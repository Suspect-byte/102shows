[
    {
        "id": "86dfa5fa.3cd59",
        "type": "tab",
        "label": "LED Control"
    },
    {
        "id": "1e803811.b49bc",
        "type": "subflow",
        "name": "HEX to RGB",
        "info": "convert a color HEX value (like #ff0080) to a rgb color tuple (like [255, 0, 128])",
        "in": [
            {
                "x": 207,
                "y": 96,
                "wires": [
                    {
                        "id": "2226c5c2.88cc6a"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 534,
                "y": 96,
                "wires": [
                    {
                        "id": "2226c5c2.88cc6a",
                        "port": 0
                    }
                ]
            }
        ]
    },
    {
        "id": "4fa1fab7.28919c",
        "type": "subflow",
        "name": "RGB to HEX",
        "info": "convert an rgb color tuple (like [255, 0, 128]) to a color HEX value (like #ff0080)",
        "in": [
            {
                "x": 209.00001525878906,
                "y": 136,
                "wires": [
                    {
                        "id": "480b5cc4.81f074"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 455,
                "y": 137,
                "wires": [
                    {
                        "id": "480b5cc4.81f074",
                        "port": 0
                    }
                ]
            }
        ]
    },
    {
        "id": "7ece1f7a.b9b4e",
        "type": "mqtt-broker",
        "z": "",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": ""
    },
    {
        "id": "41926c79.b50734",
        "type": "ui_group",
        "z": "",
        "name": "Spin the Bottle",
        "tab": "8a2a2744.c4d22",
        "order": 3,
        "disp": true,
        "width": "6"
    },
    {
        "id": "8a2a2744.c4d22",
        "type": "ui_tab",
        "z": "",
        "name": "MyLED",
        "icon": "lightbulb_outline",
        "order": 2
    },
    {
        "id": "f1a2866.b665778",
        "type": "ui_base",
        "name": "LED Control",
        "theme": "theme-light"
    },
    {
        "id": "ea90ec72.d90d58",
        "type": "ui_group",
        "z": "",
        "name": "etc",
        "tab": "8a2a2744.c4d22",
        "order": 5,
        "disp": false,
        "width": "6"
    },
    {
        "id": "372f8cf3.55eb0c",
        "type": "ui_group",
        "z": "",
        "name": "Color",
        "tab": "8a2a2744.c4d22",
        "order": 1,
        "disp": true,
        "width": "6"
    },
    {
        "id": "136f38c3.487187",
        "type": "ui_group",
        "z": "",
        "name": "Color Blend",
        "tab": "8a2a2744.c4d22",
        "order": 2,
        "disp": true,
        "width": "6"
    },
    {
        "id": "5849e073.51afd",
        "type": "ui_group",
        "z": "",
        "name": "Animations",
        "tab": "8a2a2744.c4d22",
        "order": 4,
        "disp": true,
        "width": "6"
    },
    {
        "id": "42e08332.5c6154",
        "type": "ui_group",
        "z": "",
        "name": "Christmas Show",
        "tab": "8a2a2744.c4d22",
        "order": 6,
        "disp": true,
        "width": "6"
    },
    {
        "id": "2226c5c2.88cc6a",
        "type": "function",
        "z": "1e803811.b49bc",
        "name": "HEX to RGB",
        "func": "var split_str = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(msg.payload);\n\nr = parseInt(split_str[1], 16);\ng = parseInt(split_str[2], 16);\nb = parseInt(split_str[3], 16)\n\nvar rgb = [r,g,b];\nmsg.payload = rgb;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 379.90000915527344,
        "y": 96.39999389648438,
        "wires": [
            []
        ]
    },
    {
        "id": "39d4193.fbad266",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "splitter/filter/stripper",
        "func": "// do nothing if no show parameter is defined:\nif (msg.show === undefined) {\n    return;\n}\n\n// get to work\nvar topic_path = msg.topic.split(\"/\");\n\nvar mqtt_prefix = topic_path[0];\nvar mqtt_sys_name = topic_path[1];\nvar static_show = topic_path[2];\nvar mqtt_show = topic_path[3];\nvar command = topic_path[4];\n\n// filters\nif (mqtt_prefix !== flow.get(\"mqtt_prefix\")) {\n    return;\n}\nif (mqtt_sys_name !== flow.get(\"mqtt_sys_name\")) {\n    return;\n}\nif (static_show !== \"show\") {\n    return;\n}\nif (mqtt_show !== msg.show) {\n    return;\n}\n\n// strip topic to command\nmsg.topic = command;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2429.9884643554688,
        "y": 360.2500305175781,
        "wires": [
            [
                "ac66305e.f02"
            ]
        ]
    },
    {
        "id": "c23da287.65d3f",
        "type": "mqtt in",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "topic": "+/+/show/+/+",
        "qos": "2",
        "broker": "7ece1f7a.b9b4e",
        "x": 1899.64306640625,
        "y": 362.71435546875,
        "wires": [
            [
                "b7053e65.359c8",
                "8b801ce1.519ab8",
                "d4ff6ad7.2ba318",
                "f0801ab3.fed54",
                "828a8221.f24d28",
                "e6c55cbf.53a6c"
            ]
        ]
    },
    {
        "id": "74c60a4a.77eccc",
        "type": "inject",
        "z": "86dfa5fa.3cd59",
        "name": "INIT",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "x": 345.14288330078125,
        "y": 71.42855834960938,
        "wires": [
            [
                "65a6d35f.61bf94"
            ]
        ]
    },
    {
        "id": "65a6d35f.61bf94",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "GLOBAL SETTINGS",
        "func": "flow.set(\"mqtt_prefix\", \"led\");\nflow.set(\"mqtt_sys_name\", \"MyLED\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 579.1428833007812,
        "y": 71.85713195800781,
        "wires": [
            [
                "5e174b2a.530824"
            ]
        ]
    },
    {
        "id": "9faaf3b3.f5ab78",
        "type": "subflow:4fa1fab7.28919c",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 3092.8575134277344,
        "y": 521.1190643310547,
        "wires": [
            [
                "e5870c4.cdc8ef"
            ]
        ]
    },
    {
        "id": "e5870c4.cdc8ef",
        "type": "ui_text_input",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "label": "spot color",
        "group": "41926c79.b50734",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "mode": "color",
        "delay": 300,
        "topic": "highlight_color",
        "x": 3277.0241088867188,
        "y": 521.1190795898438,
        "wires": [
            [
                "876c31dc.f636c"
            ]
        ]
    },
    {
        "id": "876c31dc.f636c",
        "type": "subflow:1e803811.b49bc",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 3481.8574829101562,
        "y": 521.3690490722656,
        "wires": [
            [
                "ebf63a14.a3a15"
            ]
        ]
    },
    {
        "id": "1c4ee664.120bda",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "add global prefix to topic (destrip)",
        "func": "var command = msg.topic;\nmsg.topic = flow.get(\"mqtt_prefix\") + \"/\" + flow.get(\"mqtt_sys_name\") + \"/show/\" + msg.show + \"/\" + command;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4255.327392578125,
        "y": 704.0831298828125,
        "wires": [
            [
                "a45e6728.8f0328",
                "44102a63.14d76c"
            ]
        ]
    },
    {
        "id": "a45e6728.8f0328",
        "type": "mqtt out",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "7ece1f7a.b9b4e",
        "x": 4520.08935546875,
        "y": 703.72607421875,
        "wires": []
    },
    {
        "id": "b9e4f617.d7e06",
        "type": "subflow:4fa1fab7.28919c",
        "z": "86dfa5fa.3cd59",
        "x": 3094.2742309570312,
        "y": 570.1190643310547,
        "wires": [
            [
                "872c4e43.82afb8"
            ]
        ]
    },
    {
        "id": "872c4e43.82afb8",
        "type": "ui_text_input",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "label": "background color",
        "group": "41926c79.b50734",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "mode": "color",
        "delay": 300,
        "topic": "background_color",
        "x": 3288.8576049804688,
        "y": 570.6190490722656,
        "wires": [
            [
                "af431af8.9fb36"
            ]
        ]
    },
    {
        "id": "af431af8.9fb36",
        "type": "subflow:1e803811.b49bc",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 3483.0242309570312,
        "y": 570.6189880371094,
        "wires": [
            [
                "ebf63a14.a3a15"
            ]
        ]
    },
    {
        "id": "480b5cc4.81f074",
        "type": "function",
        "z": "4fa1fab7.28919c",
        "name": "RGB to HEX",
        "func": "r = msg.payload[0];\ng = msg.payload[1];\nb = msg.payload[2];\n\nvar rgb = b | (g << 8) | (r << 16);\nmsg.payload = '#' + (0x1000000 + rgb).toString(16).slice(1);\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 326.20001220703125,
        "y": 142.1999969482422,
        "wires": [
            []
        ]
    },
    {
        "id": "1aeb8ddc.26275a",
        "type": "inject",
        "z": "86dfa5fa.3cd59",
        "name": "trigger reset to presets",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": false,
        "x": 834.390625,
        "y": 115.05706787109375,
        "wires": [
            [
                "7c30dc20.04340c"
            ]
        ]
    },
    {
        "id": "576e14be.8017e4",
        "type": "ui_switch",
        "z": "86dfa5fa.3cd59",
        "name": "fadeout",
        "label": "",
        "group": "41926c79.b50734",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "topic": "fadeout",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "blur_linear",
        "oncolor": "#0000ff",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "blur_linear",
        "offcolor": "#a0a0a0",
        "x": 3275.4764404296875,
        "y": 345.8572082519531,
        "wires": [
            [
                "ebf63a14.a3a15"
            ]
        ]
    },
    {
        "id": "4dbbbccf.605cc4",
        "type": "ui_slider",
        "z": "86dfa5fa.3cd59",
        "name": "time_sec",
        "label": "",
        "group": "41926c79.b50734",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "topic": "time_sec",
        "min": 0,
        "max": "20",
        "step": "0.2",
        "x": 3259.61962890625,
        "y": 449.7620544433594,
        "wires": [
            [
                "96495576.c8568",
                "ebf63a14.a3a15"
            ]
        ]
    },
    {
        "id": "96495576.c8568",
        "type": "ui_text",
        "z": "86dfa5fa.3cd59",
        "group": "41926c79.b50734",
        "order": 6,
        "width": "2",
        "height": "1",
        "name": "preview time_sec",
        "label": "",
        "format": "{{msg.payload + \" s\"}}",
        "layout": "row-left",
        "x": 3279.7149047851562,
        "y": 483.8094177246094,
        "wires": []
    },
    {
        "id": "f1eacd1a.f43a9",
        "type": "ui_button",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "group": "ea90ec72.d90d58",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "STOP",
        "color": "#F50C0C",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "show/all/stop",
        "x": 297.78564453125,
        "y": 166.21420288085938,
        "wires": [
            [
                "175fa648.55a28a"
            ]
        ]
    },
    {
        "id": "20a624b9.6664ac",
        "type": "mqtt out",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "7ece1f7a.b9b4e",
        "x": 729.0858154296875,
        "y": 190.7142333984375,
        "wires": []
    },
    {
        "id": "e164c31f.c5008",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "splitter/filter/stripper",
        "func": "// do nothing if no show parameter is defined:\nif (msg.show === undefined) {\n    return;\n}\n\n// get to work\nvar topic_path = msg.topic.split(\"/\");\n\nvar mqtt_prefix = topic_path[0];\nvar mqtt_sys_name = topic_path[1];\nvar static_show = topic_path[2];\nvar mqtt_show = topic_path[3];\nvar command = topic_path[4];\n\n// filters\nif (mqtt_prefix !== flow.get(\"mqtt_prefix\")) {\n    return;\n}\nif (mqtt_sys_name !== flow.get(\"mqtt_sys_name\")) {\n    return;\n}\nif (static_show !== \"show\") {\n    return;\n}\nif (mqtt_show !== msg.show) {\n    return;\n}\n\n// strip topic to command\nmsg.topic = command;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2422.076416015625,
        "y": 703.4572143554688,
        "wires": [
            [
                "1f21bd5f.00939b"
            ]
        ]
    },
    {
        "id": "2248c0f3.718e78",
        "type": "subflow:4fa1fab7.28919c",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 3048.1907958984375,
        "y": 703.4286499023438,
        "wires": [
            [
                "afc7f9d8.5658c8"
            ]
        ]
    },
    {
        "id": "afc7f9d8.5658c8",
        "type": "ui_text_input",
        "z": "86dfa5fa.3cd59",
        "name": "color",
        "label": "",
        "group": "372f8cf3.55eb0c",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "mode": "color",
        "delay": 300,
        "topic": "color",
        "x": 3195.6907958984375,
        "y": 703.4286499023438,
        "wires": [
            [
                "35d7b187.423c3e"
            ]
        ]
    },
    {
        "id": "35d7b187.423c3e",
        "type": "subflow:1e803811.b49bc",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 3340.0479736328125,
        "y": 703.6787109375,
        "wires": [
            [
                "ab0e89da.9bcb48",
                "95f21a47.26703"
            ]
        ]
    },
    {
        "id": "ab0e89da.9bcb48",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "assemble START command",
        "func": "// input:\n//   msg.topic: parameter name => \"color\"\n//   msg.payload: color tuple => [255, 0, 128]\nvar parameters = {};\nparameters[msg.topic] = msg.payload;\n\n// assemble start command\nmsg.topic = \"start\";\nmsg.payload = parameters;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3552.9002685546875,
        "y": 755.3997192382812,
        "wires": [
            [
                "95f21a47.26703"
            ]
        ]
    },
    {
        "id": "b7053e65.359c8",
        "type": "debug",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 1891.8001403808594,
        "y": 427.19989013671875,
        "wires": []
    },
    {
        "id": "7c30dc20.04340c",
        "type": "link out",
        "z": "86dfa5fa.3cd59",
        "name": "led_presets",
        "links": [
            "25c9ba4.f3d7f46",
            "8944bdff.f93dd8",
            "cccb470e.c6c4f",
            "fcf29625.e096a8",
            "891fcf0c.f3a43"
        ],
        "x": 990.881103515625,
        "y": 113.6953125,
        "wires": []
    },
    {
        "id": "f76fd1e1.5897d8",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "preset for solidcolor",
        "func": "flow.set(\"parameters_solidcolor\" , {});\n\nvar color = {\"topic\": \"color\", \"payload\": [0, 0, 0]};\n\nreturn color;",
        "outputs": 1,
        "noerr": 0,
        "x": 3532.000244140625,
        "y": 650.3938598632812,
        "wires": [
            [
                "95f21a47.26703"
            ]
        ]
    },
    {
        "id": "8944bdff.f93dd8",
        "type": "link in",
        "z": "86dfa5fa.3cd59",
        "name": "led_presets",
        "links": [
            "7c30dc20.04340c"
        ],
        "x": 3385.6002197265625,
        "y": 648.7273864746094,
        "wires": [
            [
                "f76fd1e1.5897d8"
            ]
        ]
    },
    {
        "id": "c4f4f222.c251e8",
        "type": "link out",
        "z": "86dfa5fa.3cd59",
        "name": "cache_solidcolor",
        "links": [
            "61328ac2.982a3c"
        ],
        "x": 3005.5836181640625,
        "y": 658.0000610351562,
        "wires": []
    },
    {
        "id": "3a37ee6a.15962a",
        "type": "link out",
        "z": "86dfa5fa.3cd59",
        "name": "cache_spinthebottle",
        "links": [
            "61328ac2.982a3c"
        ],
        "x": 3006.9166259765625,
        "y": 317.5000915527344,
        "wires": []
    },
    {
        "id": "61328ac2.982a3c",
        "type": "link in",
        "z": "86dfa5fa.3cd59",
        "name": "cache",
        "links": [
            "3a37ee6a.15962a",
            "c4f4f222.c251e8",
            "cb8fd79c.80c83"
        ],
        "x": 4109.750244140625,
        "y": 394.5001220703125,
        "wires": [
            [
                "f14ed51c.26251"
            ]
        ]
    },
    {
        "id": "f14ed51c.26251",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "cache in flow context",
        "func": "var param_name = \"parameters_\" + msg.show;\n\nvar params = flow.get(param_name);\nparams[msg.topic] = msg.payload;\nflow.set(param_name, params)\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4268.000244140625,
        "y": 395.5001220703125,
        "wires": [
            []
        ]
    },
    {
        "id": "ebf63a14.a3a15",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => spinthebottle",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "spinthebottle",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3750.2498779296875,
        "y": 375.3334045410156,
        "wires": [
            [
                "1c4ee664.120bda"
            ]
        ]
    },
    {
        "id": "8b801ce1.519ab8",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => spinthebottle",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "spinthebottle",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2170.333465576172,
        "y": 360.3332824707031,
        "wires": [
            [
                "39d4193.fbad266"
            ]
        ]
    },
    {
        "id": "ac66305e.f02",
        "type": "json",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 2630.8333740234375,
        "y": 360,
        "wires": [
            [
                "8e712d38.0bbdd"
            ]
        ]
    },
    {
        "id": "8e712d38.0bbdd",
        "type": "switch",
        "z": "86dfa5fa.3cd59",
        "name": "select command",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "fadeout",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "time_sec",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "highlight_color",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "background_color",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "outputs": 4,
        "x": 2845.666748046875,
        "y": 359.9999084472656,
        "wires": [
            [
                "576e14be.8017e4",
                "3a37ee6a.15962a"
            ],
            [
                "4dbbbccf.605cc4",
                "3a37ee6a.15962a",
                "96495576.c8568"
            ],
            [
                "9faaf3b3.f5ab78",
                "3a37ee6a.15962a"
            ],
            [
                "b9e4f617.d7e06",
                "3a37ee6a.15962a"
            ]
        ]
    },
    {
        "id": "d4ff6ad7.2ba318",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => solidcolor",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "solidcolor",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2198.666961669922,
        "y": 703.3331909179688,
        "wires": [
            [
                "e164c31f.c5008"
            ]
        ]
    },
    {
        "id": "1f21bd5f.00939b",
        "type": "json",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 2627.0003051757812,
        "y": 703.3333129882812,
        "wires": [
            [
                "e0e7d2a6.196448"
            ]
        ]
    },
    {
        "id": "e0e7d2a6.196448",
        "type": "switch",
        "z": "86dfa5fa.3cd59",
        "name": "select command",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "color",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "outputs": 1,
        "x": 2815.3336181640625,
        "y": 703.3333129882812,
        "wires": [
            [
                "2248c0f3.718e78",
                "c4f4f222.c251e8"
            ]
        ]
    },
    {
        "id": "95f21a47.26703",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => solidcolor",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "solidcolor",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3822.0001831054688,
        "y": 703.3334350585938,
        "wires": [
            [
                "1c4ee664.120bda"
            ]
        ]
    },
    {
        "id": "44102a63.14d76c",
        "type": "debug",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 4489.832763671875,
        "y": 637.6666259765625,
        "wires": []
    },
    {
        "id": "e274ef9.7db559",
        "type": "ui_button",
        "z": "86dfa5fa.3cd59",
        "name": "START: spinthebottle",
        "group": "41926c79.b50734",
        "order": 7,
        "width": "0",
        "height": "0",
        "label": "Spin it, Baby! 🍾",
        "color": "",
        "icon": "",
        "payload": "spinthebottle",
        "payloadType": "str",
        "topic": "start",
        "x": 3103.4857177734375,
        "y": 228.37155151367188,
        "wires": [
            [
                "7a0def18.93f37"
            ]
        ]
    },
    {
        "id": "7a0def18.93f37",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "collect parameters for \"spinthebottle\"",
        "func": "msg.payload = flow.get(\"parameters_spinthebottle\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3420.2191772460938,
        "y": 214.26681518554688,
        "wires": [
            [
                "ebf63a14.a3a15"
            ]
        ]
    },
    {
        "id": "f83a482e.59ce5",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "presets for spinthebottle",
        "func": "flow.set(\"parameters_spinthebottle\" , {});\n\nvar highlight_color = {\"topic\": \"highlight_color\", \"payload\": [200, 100, 0]};\nvar background_color = {\"topic\": \"background_color\", \"payload\": [0, 0, 0]};\nvar fadeout = {\"topic\": \"fadeout\", \"payload\": true};\nvar time_sec = {\"topic\": \"time_sec\", \"payload\": 10};\n\nreturn [[highlight_color, background_color, fadeout, time_sec],];",
        "outputs": 1,
        "noerr": 0,
        "x": 3435.900146484375,
        "y": 299.7333068847656,
        "wires": [
            [
                "ebf63a14.a3a15"
            ]
        ]
    },
    {
        "id": "25c9ba4.f3d7f46",
        "type": "link in",
        "z": "86dfa5fa.3cd59",
        "name": "led_presets",
        "links": [
            "7c30dc20.04340c"
        ],
        "x": 3276.166748046875,
        "y": 299.73333740234375,
        "wires": [
            [
                "f83a482e.59ce5"
            ]
        ]
    },
    {
        "id": "f0801ab3.fed54",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => twocolorblend",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "twocolorblend",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2207.7332458496094,
        "y": 1019.3333740234375,
        "wires": [
            [
                "4163ed89.9cf03c"
            ]
        ]
    },
    {
        "id": "4163ed89.9cf03c",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "splitter/filter/stripper",
        "func": "// do nothing if no show parameter is defined:\nif (msg.show === undefined) {\n    return;\n}\n\n// get to work\nvar topic_path = msg.topic.split(\"/\");\n\nvar mqtt_prefix = topic_path[0];\nvar mqtt_sys_name = topic_path[1];\nvar static_show = topic_path[2];\nvar mqtt_show = topic_path[3];\nvar command = topic_path[4];\n\n// filters\nif (mqtt_prefix !== flow.get(\"mqtt_prefix\")) {\n    return;\n}\nif (mqtt_sys_name !== flow.get(\"mqtt_sys_name\")) {\n    return;\n}\nif (static_show !== \"show\") {\n    return;\n}\nif (mqtt_show !== msg.show) {\n    return;\n}\n\n// strip topic to command\nmsg.topic = command;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2455.7332763671875,
        "y": 1019.3333740234375,
        "wires": [
            [
                "79d01e76.2b9648"
            ]
        ]
    },
    {
        "id": "79d01e76.2b9648",
        "type": "json",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 2628.833251953125,
        "y": 1019.8333740234375,
        "wires": [
            [
                "8617e8e1.3b5028"
            ]
        ]
    },
    {
        "id": "8617e8e1.3b5028",
        "type": "switch",
        "z": "86dfa5fa.3cd59",
        "name": "select command",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "color1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "color2",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "outputs": 2,
        "x": 2806.333251953125,
        "y": 1019.8333740234375,
        "wires": [
            [
                "cb8fd79c.80c83",
                "c3392aa6.de4508"
            ],
            [
                "cb8fd79c.80c83",
                "a1bf4eae.91c9a8"
            ]
        ]
    },
    {
        "id": "cb8fd79c.80c83",
        "type": "link out",
        "z": "86dfa5fa.3cd59",
        "name": "cache_twocolorblend",
        "links": [
            "61328ac2.982a3c"
        ],
        "x": 2947.7332763671875,
        "y": 970.1334228515625,
        "wires": []
    },
    {
        "id": "c3392aa6.de4508",
        "type": "subflow:4fa1fab7.28919c",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 3098.47607421875,
        "y": 992.761962890625,
        "wires": [
            [
                "279cb5e9.3e2e32"
            ]
        ]
    },
    {
        "id": "279cb5e9.3e2e32",
        "type": "ui_text_input",
        "z": "86dfa5fa.3cd59",
        "name": "color1",
        "label": "",
        "group": "136f38c3.487187",
        "order": 1,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "color",
        "delay": 300,
        "topic": "color1",
        "x": 3272.6426696777344,
        "y": 992.7619781494141,
        "wires": [
            [
                "b25e86be.abffa8"
            ]
        ]
    },
    {
        "id": "b25e86be.abffa8",
        "type": "subflow:1e803811.b49bc",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 3487.476043701172,
        "y": 993.0119476318359,
        "wires": [
            [
                "940e19e.799cc68"
            ]
        ]
    },
    {
        "id": "a1bf4eae.91c9a8",
        "type": "subflow:4fa1fab7.28919c",
        "z": "86dfa5fa.3cd59",
        "x": 3099.892791748047,
        "y": 1041.761962890625,
        "wires": [
            [
                "4bf84eea.3e1398"
            ]
        ]
    },
    {
        "id": "4bf84eea.3e1398",
        "type": "ui_text_input",
        "z": "86dfa5fa.3cd59",
        "name": "color2",
        "label": "",
        "group": "136f38c3.487187",
        "order": 2,
        "width": "3",
        "height": "1",
        "passthru": false,
        "mode": "color",
        "delay": 300,
        "topic": "color2",
        "x": 3271.6192016601562,
        "y": 1042.2620239257812,
        "wires": [
            [
                "c1c13789.1045a8"
            ]
        ]
    },
    {
        "id": "c1c13789.1045a8",
        "type": "subflow:1e803811.b49bc",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 3488.642791748047,
        "y": 1042.2618865966797,
        "wires": [
            [
                "940e19e.799cc68"
            ]
        ]
    },
    {
        "id": "940e19e.799cc68",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => twocolorblend",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "twocolorblend",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3802.4761962890625,
        "y": 965.6188354492188,
        "wires": [
            [
                "1c4ee664.120bda"
            ]
        ]
    },
    {
        "id": "88801b1f.568b8",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "preset for twocolorblend",
        "func": "flow.set(\"parameters_twocolorblend\" , {});\n\nvar color1 = {\"topic\": \"color1\", \"payload\": [200, 0, 0]};\nvar color2 = {\"topic\": \"color2\", \"payload\": [0, 0, 255]};\n\nreturn [[color1, color2],];",
        "outputs": 1,
        "noerr": 0,
        "x": 3445.9046630859375,
        "y": 928.1905517578125,
        "wires": [
            [
                "940e19e.799cc68"
            ]
        ]
    },
    {
        "id": "cccb470e.c6c4f",
        "type": "link in",
        "z": "86dfa5fa.3cd59",
        "name": "led_presets",
        "links": [
            "7c30dc20.04340c"
        ],
        "x": 3286.1712646484375,
        "y": 928.1905822753906,
        "wires": [
            [
                "88801b1f.568b8"
            ]
        ]
    },
    {
        "id": "d3a0c73f.d09d3",
        "type": "comment",
        "z": "86dfa5fa.3cd59",
        "name": "README",
        "info": "# Configure me!\n\nIn order to use this flow correctly you must configure the following nodes:\n\n- the assigned __MQTT broker node__ (host, port, credentials,..)\n- the __\"GLOBAL SETTINGS\" node__ (next to this one) according to the settings made in your _server/config.py_\n    - ```prefix```\n    - ```sys_name```\n- It is recommended that you also change the name of the UI tab.",
        "x": 124.14285278320312,
        "y": 67.71429443359375,
        "wires": []
    },
    {
        "id": "8eeb9e47.8f678",
        "type": "ui_button",
        "z": "86dfa5fa.3cd59",
        "name": "START: twocolorblend",
        "group": "136f38c3.487187",
        "order": 0,
        "width": "0",
        "height": "0",
        "label": "Show me! ✨",
        "color": "",
        "icon": "",
        "payload": "twocolorblend",
        "payloadType": "str",
        "topic": "start",
        "x": 3077.90478515625,
        "y": 877.3333740234375,
        "wires": [
            [
                "192dc153.0e2faf"
            ]
        ]
    },
    {
        "id": "192dc153.0e2faf",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "collect parameters for \"twocolorblend\"",
        "func": "msg.payload = flow.get(\"parameters_twocolorblend\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3406.066650390625,
        "y": 877.2286376953125,
        "wires": [
            [
                "940e19e.799cc68"
            ]
        ]
    },
    {
        "id": "2cb11108.560466",
        "type": "ui_button",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "group": "ea90ec72.d90d58",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "BLACKOUT",
        "color": "#000000",
        "icon": "",
        "payload": "{\"fadetime_sec\": 1}",
        "payloadType": "str",
        "topic": "show/clear/start",
        "x": 279.5333251953125,
        "y": 211.19998168945312,
        "wires": [
            [
                "175fa648.55a28a"
            ]
        ]
    },
    {
        "id": "fef8f51f.17c8c",
        "type": "ui_button",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "group": "5849e073.51afd",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "👯🕺💃 Theater Chase 💃🕺👯",
        "color": "#c4830d",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "start",
        "x": 3523.8818359375,
        "y": 1612.095703125,
        "wires": [
            [
                "571d2aa6.6c88ec"
            ]
        ]
    },
    {
        "id": "571d2aa6.6c88ec",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => theaterchase",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "theaterchase",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3802.000244140625,
        "y": 1612.4287109375,
        "wires": [
            [
                "1c4ee664.120bda"
            ]
        ]
    },
    {
        "id": "a8ab854e.ddeb2",
        "type": "ui_button",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "group": "5849e073.51afd",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "🌈 Rainbow 👑🦄",
        "color": "#c4830d",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "start",
        "x": 3580.4452514648438,
        "y": 1679.095703125,
        "wires": [
            [
                "b03ec670.b3334"
            ]
        ]
    },
    {
        "id": "b03ec670.b3334",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => rainbow",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "rainbow",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3818.72216796875,
        "y": 1679.4289245605469,
        "wires": [
            [
                "1c4ee664.120bda"
            ]
        ]
    },
    {
        "id": "828a8221.f24d28",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "filter for command \"brightness\"",
        "func": "// get to work\nvar topic_path = msg.topic.split(\"/\");\n\nvar mqtt_prefix = topic_path[0];\nvar mqtt_sys_name = topic_path[1];\nvar static_show = topic_path[2];\nvar mqtt_show = topic_path[3];\nvar command = topic_path[4];\n\n// filters\nif (mqtt_prefix !== flow.get(\"mqtt_prefix\")) {\n    return;\n}\nif (mqtt_sys_name !== flow.get(\"mqtt_sys_name\")) {\n    return;\n}\nif (static_show !== \"show\") {\n    return;\n}\nif (command !== \"brightness\") {\n    return;\n}\n\n// strip topic to command\nmsg.topic = command;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2190.39990234375,
        "y": 99.80000305175781,
        "wires": [
            [
                "97b25b9b.568d68"
            ]
        ]
    },
    {
        "id": "97b25b9b.568d68",
        "type": "ui_slider",
        "z": "86dfa5fa.3cd59",
        "name": "brightness",
        "label": "",
        "group": "ea90ec72.d90d58",
        "order": 2,
        "width": "4",
        "height": "1",
        "passthru": false,
        "topic": "brightness",
        "min": "1",
        "max": "80",
        "step": 1,
        "x": 3266.32861328125,
        "y": 98.5714340209961,
        "wires": [
            [
                "e5b340a0.0dd668"
            ]
        ]
    },
    {
        "id": "e5b340a0.0dd668",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => all",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "all",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3756,
        "y": 97.60000610351562,
        "wires": [
            [
                "1c4ee664.120bda"
            ]
        ]
    },
    {
        "id": "135c6684.3ef501",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "brightness preset",
        "func": "msg.topic = \"brightness\";\nmsg.payload = 50;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3552.88916015625,
        "y": 36.888877868652344,
        "wires": [
            [
                "e5b340a0.0dd668"
            ]
        ]
    },
    {
        "id": "fcf29625.e096a8",
        "type": "link in",
        "z": "86dfa5fa.3cd59",
        "name": "led_presets",
        "links": [
            "7c30dc20.04340c"
        ],
        "x": 3418.7109375,
        "y": 36.888916015625,
        "wires": [
            [
                "135c6684.3ef501"
            ]
        ]
    },
    {
        "id": "9d28288a.e94ad8",
        "type": "ui_switch",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "label": "reset time_sec",
        "group": "41926c79.b50734",
        "order": 4,
        "width": "1",
        "height": "1",
        "passthru": false,
        "topic": "time_sec",
        "style": "",
        "onvalue": "10",
        "onvalueType": "num",
        "onicon": "watch_later",
        "oncolor": "#a0a0a0",
        "offvalue": "10",
        "offvalueType": "num",
        "officon": "watch_later",
        "offcolor": "#a0a0a0",
        "x": 3256.999969482422,
        "y": 410.0000305175781,
        "wires": [
            [
                "ebf63a14.a3a15"
            ]
        ]
    },
    {
        "id": "c3d6dfcb.71c128",
        "type": "ui_switch",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "label": "brightness min",
        "group": "ea90ec72.d90d58",
        "order": 1,
        "width": "1",
        "height": "1",
        "passthru": false,
        "topic": "brightness",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "brightness_low",
        "oncolor": "#a0a0a0",
        "offvalue": "3",
        "offvalueType": "num",
        "officon": "brightness_low",
        "offcolor": "#a0a0a0",
        "x": 3271,
        "y": 138.1999969482422,
        "wires": [
            [
                "e5b340a0.0dd668"
            ]
        ]
    },
    {
        "id": "4c2a0151.31d968",
        "type": "ui_switch",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "label": "brightness max",
        "group": "ea90ec72.d90d58",
        "order": 3,
        "width": "1",
        "height": "1",
        "passthru": false,
        "topic": "brightness",
        "style": "",
        "onvalue": "80",
        "onvalueType": "num",
        "onicon": "brightness_high",
        "oncolor": "#aaaa33",
        "offvalue": "80",
        "offvalueType": "num",
        "officon": "brightness_high",
        "offcolor": "#aaaa33",
        "x": 3260,
        "y": 59.19999694824219,
        "wires": [
            [
                "e5b340a0.0dd668"
            ]
        ]
    },
    {
        "id": "7e223844.1ad31",
        "type": "mqtt in",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "topic": "+/+/notification",
        "qos": "2",
        "broker": "7ece1f7a.b9b4e",
        "x": 277.90020751953125,
        "y": 358.01434326171875,
        "wires": [
            [
                "89cfa782.8d3a18"
            ]
        ]
    },
    {
        "id": "89cfa782.8d3a18",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "prefix and sys_name filter",
        "func": "// get to work\nvar topic_path = msg.topic.split(\"/\");\n\nvar mqtt_prefix = topic_path[0];\nvar mqtt_sys_name = topic_path[1];\n\n// filters\nif (mqtt_prefix !== flow.get(\"mqtt_prefix\")) {\n    return;\n}\nif (mqtt_sys_name !== flow.get(\"mqtt_sys_name\")) {\n    return;\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 491.1642761230469,
        "y": 358.38189697265625,
        "wires": [
            [
                "a3f483d8.4be998"
            ]
        ]
    },
    {
        "id": "ece42ebd.93e49",
        "type": "ui_toast",
        "z": "86dfa5fa.3cd59",
        "position": "top right",
        "displayTime": "5",
        "name": "",
        "x": 888.63623046875,
        "y": 357.8908386230469,
        "wires": []
    },
    {
        "id": "a3f483d8.4be998",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "rules": [
            {
                "t": "delete",
                "p": "topic",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 698.2727661132812,
        "y": 358.727294921875,
        "wires": [
            [
                "ece42ebd.93e49"
            ]
        ]
    },
    {
        "id": "175fa648.55a28a",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "add prefix and sys_name",
        "func": "msg.topic = flow.get(\"mqtt_prefix\") + \"/\"  + flow.get(\"mqtt_sys_name\") + \"/\" + msg.topic;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 527.25,
        "y": 191.00003051757812,
        "wires": [
            [
                "20a624b9.6664ac"
            ]
        ]
    },
    {
        "id": "62fb08f4.8ee79",
        "type": "ui_button",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "group": "42e08332.5c6154",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Light it up!🎄🎅🤶🎁",
        "color": "#c4830d",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "start",
        "x": 3158.5552978515625,
        "y": 1220.7936096191406,
        "wires": [
            [
                "84ffc45.9cc30b8"
            ]
        ]
    },
    {
        "id": "5d3ce3cf.143cbc",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show => christmas",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "christmas",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3798.5142822265625,
        "y": 1350.2284545898438,
        "wires": [
            [
                "1c4ee664.120bda"
            ]
        ]
    },
    {
        "id": "e6c55cbf.53a6c",
        "type": "change",
        "z": "86dfa5fa.3cd59",
        "name": "msg.show =>  christmas",
        "rules": [
            {
                "t": "set",
                "p": "show",
                "pt": "msg",
                "to": "christmas",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2204.214324951172,
        "y": 1393.107177734375,
        "wires": [
            [
                "4b8d1df9.3be36c"
            ]
        ]
    },
    {
        "id": "4b8d1df9.3be36c",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "splitter/filter/stripper",
        "func": "// do nothing if no show parameter is defined:\nif (msg.show === undefined) {\n    return;\n}\n\n// get to work\nvar topic_path = msg.topic.split(\"/\");\n\nvar mqtt_prefix = topic_path[0];\nvar mqtt_sys_name = topic_path[1];\nvar static_show = topic_path[2];\nvar mqtt_show = topic_path[3];\nvar command = topic_path[4];\n\n// filters\nif (mqtt_prefix !== flow.get(\"mqtt_prefix\")) {\n    return;\n}\nif (mqtt_sys_name !== flow.get(\"mqtt_sys_name\")) {\n    return;\n}\nif (static_show !== \"show\") {\n    return;\n}\nif (mqtt_show !== msg.show) {\n    return;\n}\n\n// strip topic to command\nmsg.topic = command;\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2462.21435546875,
        "y": 1393.107177734375,
        "wires": [
            [
                "8232a60.9c4f6d8"
            ]
        ]
    },
    {
        "id": "8232a60.9c4f6d8",
        "type": "json",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "x": 2635.3143310546875,
        "y": 1393.607177734375,
        "wires": [
            [
                "c1b66593.91ef7"
            ]
        ]
    },
    {
        "id": "c1b66593.91ef7",
        "type": "switch",
        "z": "86dfa5fa.3cd59",
        "name": "select command",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "velocity",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "merry_go_round",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "chunk_blendover",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "whole_blendover",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "outputs": 4,
        "x": 2812.8143310546875,
        "y": 1393.607177734375,
        "wires": [
            [
                "8ba7dad.d9b34a8"
            ],
            [
                "9b990b1d.14d0f8"
            ],
            [
                "784d1fe7.9da06"
            ],
            [
                "ea18e43c.8af098"
            ]
        ]
    },
    {
        "id": "84ffc45.9cc30b8",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "collect parameters for \"christmas\"",
        "func": "msg.payload = flow.get(\"parameters_christmas\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3429.85693359375,
        "y": 1220.285888671875,
        "wires": [
            [
                "5d3ce3cf.143cbc"
            ]
        ]
    },
    {
        "id": "71279618.9ff68",
        "type": "function",
        "z": "86dfa5fa.3cd59",
        "name": "preset for \"christmas\"",
        "func": "flow.set(\"parameters_christmas\" , {});\n\nvar velocity = {\"topic\": \"velocity\", \"payload\": 5};\nvar merry_go_round = {\"topic\": \"merry_go_round\", \"payload\": 3};\nvar chunk_blendover = {\"topic\": \"chunk_blendover\", \"payload\": 5};\nvar whole_blendover = {\"topic\": \"whole_blendover\", \"payload\": 5};\n\nreturn [[velocity, merry_go_round, chunk_blendover, whole_blendover],];",
        "outputs": 1,
        "noerr": 0,
        "x": 3435.5712890625,
        "y": 1270.8572998046875,
        "wires": [
            [
                "5d3ce3cf.143cbc"
            ]
        ]
    },
    {
        "id": "891fcf0c.f3a43",
        "type": "link in",
        "z": "86dfa5fa.3cd59",
        "name": "led_presets",
        "links": [
            "7c30dc20.04340c"
        ],
        "x": 3292.7139282226562,
        "y": 1270.2858276367188,
        "wires": [
            [
                "71279618.9ff68"
            ]
        ]
    },
    {
        "id": "8ba7dad.d9b34a8",
        "type": "ui_slider",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "label": "velocity",
        "group": "42e08332.5c6154",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "topic": "velocity",
        "min": "1",
        "max": 10,
        "step": 1,
        "x": 3273.8572387695312,
        "y": 1323.0000610351562,
        "wires": [
            [
                "5d3ce3cf.143cbc"
            ]
        ]
    },
    {
        "id": "9b990b1d.14d0f8",
        "type": "ui_switch",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "label": "Merry Go Round",
        "group": "42e08332.5c6154",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "topic": "merry_go_round",
        "style": "",
        "onvalue": "3",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 3277.57080078125,
        "y": 1366.1429443359375,
        "wires": [
            [
                "5d3ce3cf.143cbc"
            ]
        ]
    },
    {
        "id": "784d1fe7.9da06",
        "type": "ui_switch",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "label": "Chunk Blendover",
        "group": "42e08332.5c6154",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "topic": "chunk_blendover",
        "style": "",
        "onvalue": "5",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 3285.7142944335938,
        "y": 1408.7142333984375,
        "wires": [
            [
                "5d3ce3cf.143cbc"
            ]
        ]
    },
    {
        "id": "ea18e43c.8af098",
        "type": "ui_switch",
        "z": "86dfa5fa.3cd59",
        "name": "",
        "label": "Whole Blendover",
        "group": "42e08332.5c6154",
        "order": 0,
        "width": 0,
        "height": 0,
        "passthru": false,
        "topic": "whole_blendover",
        "style": "",
        "onvalue": "5",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 3284.2857055664062,
        "y": 1450.142822265625,
        "wires": [
            [
                "5d3ce3cf.143cbc"
            ]
        ]
    },
    {
        "id": "5e174b2a.530824",
        "type": "delay",
        "z": "86dfa5fa.3cd59",
        "name": "wait for mqtt connection",
        "pauseType": "delay",
        "timeout": "7",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 826.9000244140625,
        "y": 72.39999389648438,
        "wires": [
            [
                "7c30dc20.04340c"
            ]
        ]
    }
]